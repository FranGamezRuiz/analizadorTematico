
{% extends 'base.html' %}


{% block content %}


    <!--Menu lateral-->

      <div class="row">
        <nav class="col-md-2 d-md-block bg-light sidebar">

          <div  class="sidebar-sticky">
            <ul class="nav flex-column">
                <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                    <span>{{ tipo }}</span>
                </h6>
                <li class="nav-item">
                    <a class="nav-link d-flex" href="{% url 'tema-grGeneral-view' tema.pk nTipo %}">General</a>
                </li>
                {% for categoria in categorias %}
                    <li class="nav-item">
                        <a class="nav-link d-flex" href="{% url 'tema-graficas-view' tema.pk nTipo categoria%}">{{ categoria.nombre }}</a>
                    </li>
                {% endfor %}
            </ul>
          </div>

        </nav>


    <!--Contenido de la página-->

     <main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">
          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
            <h1 class="h2">{{ tema }} General</h1>

          </div>

         <canvas class="my-4" id="myChart" width="900" height="380"></canvas>
         <canvas class="my-4" id="myChart2" width="900" height="380"></canvas>
         <canvas class="my-4" id="myChart3" width="900" height="380"></canvas>


    </main>
      </div>

    <script>
        var ctx = document.getElementById('myChart').getContext('2d');
        var myChart = new Chart(ctx, {
            type: 'bar',// bar, horizontalBar, pie, line, doughnut, radar, polarArea

            data: {
                labels: {{labels|safe}},
                datasets: [{
                    data: {{data|safe}},
                    backgroundColor: {{colors|safe}}
                }]
            },
            options: {
                legend: { display: false },
                title: {
                        display: true,
                        text: 'Polaridad por cada categoría'
                }
            }


        });

        var ctx = document.getElementById('myChart2').getContext('2d');
        var myChart2 = new Chart(ctx, {
            type: 'bar',// bar, horizontalBar, pie, line, doughnut, radar, polarArea

            data: {
                labels: {{labels|safe}},
                datasets: [{
                    data: {{data|safe}},
                    backgroundColor: {{colors|safe}}
                }]
            },
            options: {
                legend: { display: false },
                title: {
                        display: true,
                        text: '{{titulo}}'
                }
            }


        });
        var ctx = document.getElementById('myChart3').getContext('2d');
        var myChart3 = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ["1/1/2020", "1/2/2020", "1//2020", "1/1/2020", "1/1/2020", "1/1/2020", "1/1/2020", "1/2/2020","1/3/2020", "1/4/2020"],
                datasets: [{
                    data: [-86, -114, 106, 106, 107, 111, 133, 221, 783, 2478],
                    label: "Jazztel",
                    borderColor: "#3e95cd",
                    fill: false
                }, {
                    data: [-282, -350, 411, 502, 635, 809, 947, 1402, 3700, 5267],
                    label: "Movistar",
                    borderColor: "#8e5ea2",
                    fill: false
                }
                ]
            },
            options: {
                title: {
                    display: true,
                    text: 'Evolución de la opinión por días'
                }
            }
        });


    </script>
{% endblock %}

